<!-- htmlhint-disable -->
<!-- @ts-nocheck -->
{% extends "corpus/base.html" %}
{% load static %}

{% block title %}Profilim - CorpusIO{% endblock %}

{% block content %}
<div class="profile-page-wrapper">
    <!-- Profile Hero Section with Gradient -->
    <div class="profile-hero">
        <div class="profile-hero-content">
            <div class="profile-avatar-large">
                <span class="material-icons">person</span>
            </div>
            <div class="profile-hero-info">
                <h1 class="profile-hero-title">{{ user.get_full_name|default:user.username }}</h1>
                <p class="profile-hero-email">{{ user.email }}</p>
                <div class="profile-hero-badges">
                    {% if user.is_superuser %}
                    <span class="profile-badge badge-admin">‚ö° S√ºper Y√∂netici</span>
                    {% elif profile.role == 'registered' %}
                    <span class="profile-badge badge-registered">üìù Kayƒ±tlƒ± Kullanƒ±cƒ±</span>
                    {% elif profile.role == 'verified' %}
                    <span class="profile-badge badge-verified">‚úÖ Doƒürulanmƒ±≈ü Ara≈ütƒ±rmacƒ±</span>
                    {% elif profile.role == 'developer' %}
                    <span class="profile-badge badge-developer">üíª Geli≈ütirici</span>
                    {% elif profile.role == 'admin' %}
                    <span class="profile-badge badge-admin">‚ö° Y√∂netici</span>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <div class="profile-container">
        <!-- Quick Actions Bar -->
        <div class="quick-actions-bar">
            <a class="quick-action-btn primary" href="{% url 'corpus:export_history' %}">
                <span class="material-icons">history</span>
                <span>Export Ge√ßmi≈üi</span>
            </a>
            {% if user.is_authenticated %}
            <a class="quick-action-btn" href="{% url 'corpus:corpus_search' %}">
                <span class="material-icons">search</span>
                <span>Korpus Ara</span>
            </a>
            <a class="quick-action-btn" href="{% url 'corpus:dashboard' %}">
                <span class="material-icons">dashboard</span>
                <span>Dashboard</span>
            </a>
            {% endif %}
        </div>

        <!-- Stats Grid -->
        <div class="stats-grid">
            <!-- Account Info Card -->
            <div class="modern-card account-card">
                <div class="card-header">
                    <div class="card-icon">
                        <span class="material-icons">badge</span>
                    </div>
                    <h3 class="card-title">Hesap Bilgileri</h3>
                </div>
                <div class="card-content">
                    {% if profile.role == 'verified' or profile.role == 'developer' or profile.role == 'admin' %}
                    {% if profile.institution %}
                    <div class="detail-row">
                        <span class="detail-label">Kurum</span>
                        <span class="detail-value">{{ profile.institution }}</span>
                    </div>
                    {% endif %}
                    {% if profile.orcid %}
                    <div class="detail-row">
                        <span class="detail-label">ORCID</span>
                        <a href="https://orcid.org/{{ profile.orcid }}" target="_blank" class="detail-link">{{
                            profile.orcid }}</a>
                    </div>
                    {% endif %}
                    {% endif %}
                    <div class="detail-row">
                        <span class="detail-label">√úyelik Tarihi</span>
                        <span class="detail-value">{{ user.date_joined|date:"d F Y" }}</span>
                    </div>
                </div>
            </div>

            <!-- Export Quota Card -->
            <div class="modern-card quota-card">
                <div class="quota-visual-modern">
                    <svg class="circular-progress" viewBox="0 0 120 120">
                        <defs>
                            <linearGradient id="quota-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" stop-color="#6366f1" />
                                <stop offset="50%" stop-color="#8b5cf6" />
                                <stop offset="100%" stop-color="#d946ef" />
                            </linearGradient>
                        </defs>
                        <circle class="progress-bg" cx="60" cy="60" r="52" />
                        <circle class="progress-bar" cx="60" cy="60" r="52" stroke="url(#quota-gradient)"
                            stroke-dasharray="{{ export_percentage|floatformat:0 }}, 100" />
                    </svg>
                    <div class="quota-center">
                        <div class="quota-percent">{{ export_percentage|floatformat:0 }}%</div>
                        <div class="quota-label">Kullanƒ±m</div>
                    </div>
                </div>
                <div class="quota-details">
                    <div class="quota-stat">
                        <span class="material-icons">cloud_upload</span>
                        <div>
                            <div class="stat-label">Kullanƒ±lan</div>
                            <div class="stat-value">{{ profile.export_used_mb|floatformat:2 }} MB</div>
                        </div>
                    </div>
                    <div class="quota-stat">
                        <span class="material-icons">storage</span>
                        <div>
                            <div class="stat-label">Limit</div>
                            <div class="stat-value">{{ profile.export_quota_mb }} MB</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Usage Statistics -->
        <div class="modern-card usage-card">
            <div class="card-header">
                <div class="card-icon">
                    <span class="material-icons">analytics</span>
                </div>
                <h2 class="card-title">Kullanƒ±m ƒ∞statistikleri</h2>
            </div>
            <div class="card-content">
                {% if user.is_superuser %}
                <!-- Superuser unlimited notice -->
                <div class="unlimited-notice">
                    <div class="unlimited-icon">‚ôæÔ∏è</div>
                    <h3>Sƒ±nƒ±rsƒ±z Eri≈üim</h3>
                    <p>S√ºper y√∂netici olarak t√ºm kotalardan muafsƒ±nƒ±z.</p>
                </div>
                {% else %}
                <!-- Query Quota -->
                <div class="stat-section">
                    <div class="stat-header">
                        <span class="stat-icon material-icons">search</span>
                        <div class="stat-info">
                            <span class="stat-name">G√ºnl√ºk Sorgu Limiti</span>
                            <span class="stat-values">{{ profile.queries_today }} / {% if query_limit %}{{ query_limit
                                }}{% else %}Sƒ±nƒ±rsƒ±z{% endif %}</span>
                        </div>
                    </div>
                    {% if query_limit %}
                    <div class="modern-progress">
                        <div class="progress-fill query-fill" style="width: {{ query_percentage }}%;"></div>
                    </div>
                    {% endif %}
                    <p class="stat-reset">Sƒ±fƒ±rlanma: {% if query_reset_is_tomorrow %}Yarƒ±n 00:00{% else %}{{
                        query_reset|date:"d F Y" }} 00:00{% endif %}</p>
                </div>

                <!-- Export Quota -->
                <div class="stat-section">
                    <div class="stat-header">
                        <span class="stat-icon material-icons">cloud_download</span>
                        <div class="stat-info">
                            <span class="stat-name">Aylƒ±k Dƒ±≈üa Aktarma Kotasƒ±</span>
                            <span class="stat-values">{{ profile.export_used_mb|floatformat:2 }} MB / {{
                                profile.export_quota_mb }} MB</span>
                        </div>
                    </div>
                    <div class="modern-progress">
                        <div class="progress-fill export-fill" style="width: {{ export_percentage }}%;"></div>
                    </div>
                    <p class="stat-reset">Sƒ±fƒ±rlanma: {{ profile.export_last_reset|date:"d F Y" }}</p>
                </div>

                {% if profile.role == 'developer' or profile.role == 'admin' %}
                <!-- API Calls -->
                <div class="stat-section">
                    <div class="stat-header">
                        <span class="stat-icon material-icons">api</span>
                        <div class="stat-info">
                            <span class="stat-name">API √áaƒürƒ±larƒ± (Bug√ºn)</span>
                            <span class="stat-values">{{ profile.api_calls_today }} / {{ profile.api_quota_daily
                                }}</span>
                        </div>
                    </div>
                    <div class="modern-progress">
                        <div class="progress-fill api-fill"
                            style="width: {% widthratio profile.api_calls_today profile.api_quota_daily 100 %}%;"></div>
                    </div>
                </div>
                {% endif %}
                {% endif %}
            </div>
        </div>

        <!-- Watermark Preference Card -->
        <div class="modern-card watermark-card">
            <div class="card-header">
                <div class="card-icon">
                    <span class="material-icons">branding_watermark</span>
                </div>
                <h3 class="card-title">Filigran Tercihi</h3>
            </div>
            <div class="card-content">
                <form method="post" action="{% url 'corpus:update_watermark_preference' %}" id="watermark-form">
                    {% csrf_token %}
                    <div class="watermark-setting">
                        <div class="watermark-info">
                            <div class="watermark-title">Export'larda Filigran/Atƒ±f</div>
                            <p class="watermark-desc">Export dosyalarƒ±nƒ±zda CorpusLIO atƒ±f bilgisi g√∂sterilsin mi?</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="enable_watermark" name="enable_watermark" {% if
                                profile.enable_watermark %}checked{% endif %} onchange="this.form.submit()">
                            <span class="slider"></span>
                        </label>
                    </div>
                </form>
            </div>
        </div>

        {% if user.is_superuser or profile.role == 'developer' or profile.role == 'admin' %}
        <!-- API Key Card -->
        <div class="modern-card api-card">
            <div class="card-header">
                <div class="card-icon">
                    <span class="material-icons">vpn_key</span>
                </div>
                <h3 class="card-title">API Eri≈üim Anahtarƒ±</h3>
            </div>
            <div class="card-content">
                {% if profile.api_key %}
                <div class="api-key-box">
                    <code id="api-key">{{ profile.api_key }}</code>
                </div>
                <button onclick="copyApiKey()" class="btn btn-primary">
                    <span class="material-icons">content_copy</span>
                    Kopyala
                </button>
                <p class="api-warning">‚ö†Ô∏è API anahtarƒ±nƒ±zƒ± g√ºvenli tutun. Ba≈ükalarƒ±yla payla≈ümayƒ±n.</p>
                {% else %}
                <p class="api-notice">Hen√ºz API anahtarƒ±nƒ±z olu≈üturulmamƒ±≈ü. L√ºtfen y√∂neticiye ba≈üvurun.</p>
                {% endif %}
            </div>
        </div>
        {% endif %}

        {% if not user.is_superuser and profile.role == 'registered' %}
        <!-- Upgrade CTA -->
        <div class="modern-card upgrade-card">
            <div class="upgrade-content">
                <div class="upgrade-icon">‚ú®</div>
                <h3 class="upgrade-title">Daha Fazla Eri≈üim ƒ∞√ßin Hesabƒ±nƒ±zƒ± Y√ºkseltin</h3>
                <p class="upgrade-desc">Doƒürulanmƒ±≈ü ara≈ütƒ±rmacƒ± olarak g√ºnl√ºk 1000 sorgu hakkƒ± ve aylƒ±k 100MB dƒ±≈üa
                    aktarma kotasƒ± kazanƒ±n.</p>
                <a href="mailto:support@corpusio.org?subject=Hesap Doƒürulama Talebi" class="btn btn-upgrade">
                    Ba≈üvuru Yap ‚Üí
                </a>
            </div>
        </div>
        {% endif %}
    </div>
</div>

<style>
    /* Modern Profile Page Styles */
    .profile-page-wrapper {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0;
    }

    /* Profile Hero Section */
    .profile-hero {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
        border-radius: 24px;
        padding: 3rem 2rem;
        margin-bottom: 2rem;
        box-shadow: 0 20px 60px rgba(102, 126, 234, 0.3);
        position: relative;
        overflow: hidden;
    }

    .profile-hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(45deg, rgba(255, 255, 255, 0.1) 0%, transparent 100%);
        pointer-events: none;
    }

    .profile-hero-content {
        display: flex;
        align-items: center;
        gap: 2rem;
        position: relative;
        z-index: 1;
    }

    .profile-avatar-large {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        border: 4px solid rgba(255, 255, 255, 0.3);
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    .profile-avatar-large .material-icons {
        font-size: 60px;
        color: white;
    }

    .profile-hero-info {
        flex: 1;
    }

    .profile-hero-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: white;
        margin: 0 0 0.5rem 0;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }

    .profile-hero-email {
        font-size: 1.1rem;
        color: rgba(255, 255, 255, 0.9);
        margin: 0 0 1rem 0;
    }

    .profile-hero-badges {
        display: flex;
        gap: 0.75rem;
        flex-wrap: wrap;
    }

    .profile-badge {
        display: inline-flex;
        align-items: center;
        padding: 0.5rem 1.25rem;
        border-radius: 50px;
        font-weight: 600;
        font-size: 0.95rem;
        backdrop-filter: blur(10px);
        border: 2px solid rgba(255, 255, 255, 0.3);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
    }

    .badge-admin {
        background: rgba(139, 92, 246, 0.3);
        color: white;
    }

    .badge-registered {
        background: rgba(59, 130, 246, 0.3);
        color: white;
    }

    .badge-verified {
        background: rgba(16, 185, 129, 0.3);
        color: white;
    }

    .badge-developer {
        background: rgba(245, 158, 11, 0.3);
        color: white;
    }

    /* Profile Container */
    .profile-container {
        padding: 0 1rem 2rem;
    }

    /* Quick Actions Bar */
    .quick-actions-bar {
        display: flex;
        gap: 1rem;
        margin-bottom: 2rem;
        flex-wrap: wrap;
    }

    .quick-action-btn {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.75rem 1.5rem;
        background: var(--bg-surface);
        border: 2px solid var(--border-subtle);
        border-radius: 12px;
        color: var(--text-main);
        text-decoration: none;
        font-weight: 500;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .quick-action-btn.primary {
        background: linear-gradient(135deg, #6366f1, #8b5cf6);
        color: white;
        border-color: transparent;
    }

    .quick-action-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(99, 102, 241, 0.3);
    }

    .quick-action-btn.primary:hover {
        box-shadow: 0 12px 35px rgba(139, 92, 246, 0.4);
    }

    .quick-action-btn .material-icons {
        font-size: 20px;
    }

    /* Stats Grid */
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
    }

    /* Modern Cards */
    .modern-card {
        background: var(--bg-surface);
        border-radius: 20px;
        padding: 2rem;
        border: 1px solid var(--border-subtle);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .modern-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
    }

    .card-header {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1.5rem;
        padding-bottom: 1rem;
        border-bottom: 2px solid var(--border-subtle);
    }

    .card-icon {
        width: 48px;
        height: 48px;
        border-radius: 12px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }

    .card-icon .material-icons {
        color: white;
        font-size: 24px;
    }

    .card-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--text-main);
        margin: 0;
    }

    .card-content {
        /* Handled by specific card types */
    }

    /* Detail Rows */
    .detail-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem 0;
        border-bottom: 1px solid var(--border-subtle);
    }

    .detail-row:last-child {
        border-bottom: none;
    }

    .detail-label {
        font-size: 0.9rem;
        color: var(--text-secondary);
        font-weight: 500;
    }

    .detail-value {
        font-size: 0.95rem;
        color: var(--text-main);
        font-weight: 600;
    }

    .detail-link {
        color: #6366f1;
        text-decoration: none;
        font-weight: 600;
        transition: color 0.2s;
    }

    .detail-link:hover {
        color: #8b5cf6;
    }

    /* Quota Card */
    .quota-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
    }

    .quota-visual-modern {
        position: relative;
        width: 160px;
        height: 160px;
        margin-bottom: 1.5rem;
    }

    .circular-progress {
        transform: rotate(-90deg);
        width: 100%;
        height: 100%;
    }

    .progress-bg {
        fill: none;
        stroke: rgba(139, 92, 246, 0.1);
        stroke-width: 10;
    }

    .progress-bar {
        fill: none;
        stroke-width: 10;
        stroke-linecap: round;
        stroke-dasharray: 100;
        transition: stroke-dasharray 1s cubic-bezier(0.4, 0, 0.2, 1);
        animation: progressPulse 2s ease-in-out infinite;
    }

    @keyframes progressPulse {

        0%,
        100% {
            stroke-width: 10;
        }

        50% {
            stroke-width: 12;
        }
    }

    .quota-center {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    .quota-percent {
        font-size: 2rem;
        font-weight: 700;
        background: linear-gradient(135deg, #6366f1, #8b5cf6, #d946ef);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .quota-label {
        font-size: 0.85rem;
        color: var(--text-secondary);
        margin-top: 0.25rem;
    }

    .quota-details {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        width: 100%;
    }

    .quota-stat {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1rem;
        background: rgba(139, 92, 246, 0.05);
        border-radius: 12px;
        border: 1px solid rgba(139, 92, 246, 0.1);
    }

    .quota-stat .material-icons {
        font-size: 24px;
        color: #8b5cf6;
    }

    .stat-label {
        font-size: 0.85rem;
        color: var(--text-secondary);
        margin-bottom: 0.25rem;
    }

    .stat-value {
        font-size: 1.1rem;
        font-weight: 700;
        color: var(--text-main);
    }

    /* Usage Statistics */
    .unlimited-notice {
        text-align: center;
        padding: 2rem;
    }

    .unlimited-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
    }

    .unlimited-notice h3 {
        font-size: 1.5rem;
        color: var(--text-main);
        margin-bottom: 0.5rem;
    }

    .unlimited-notice p {
        color: var(--text-secondary);
        margin: 0;
    }

    .stat-section {
        padding: 1.5rem 0;
        border-bottom: 1px solid var(--border-subtle);
    }

    .stat-section:last-child {
        border-bottom: none;
    }

    .stat-header {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1rem;
    }

    .stat-icon {
        color: #8b5cf6;
        font-size: 28px;
    }

    .stat-info {
        flex: 1;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    .stat-name {
        font-size: 0.95rem;
        color: var(--text-secondary);
        font-weight: 500;
    }

    .stat-values {
        font-size: 1rem;
        color: var(--text-main);
        font-weight: 700;
    }

    .modern-progress {
        height: 10px;
        background: rgba(139, 92, 246, 0.1);
        border-radius: 10px;
        overflow: hidden;
        position: relative;
    }

    .progress-fill {
        height: 100%;
        border-radius: 10px;
        transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
    }

    .progress-fill::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
        0% {
            transform: translateX(-100%);
        }

        100% {
            transform: translateX(100%);
        }
    }

    .query-fill {
        background: linear-gradient(90deg, #3b82f6, #2563eb);
    }

    .export-fill {
        background: linear-gradient(90deg, #10b981, #059669);
    }

    .api-fill {
        background: linear-gradient(90deg, #f59e0b, #d97706);
    }

    .stat-reset {
        font-size: 0.85rem;
        color: var(--text-secondary);
        margin: 0.5rem 0 0 0;
    }

    /* Watermark Card */
    .watermark-card {
        background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(139, 92, 246, 0.05));
        border-color: rgba(99, 102, 241, 0.2);
    }

    .watermark-setting {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 2rem;
    }

    .watermark-info {
        flex: 1;
    }

    .watermark-title {
        font-weight: 600;
        color: var(--text-main);
        margin-bottom: 0.5rem;
    }

    .watermark-desc {
        font-size: 0.9rem;
        color: var(--text-secondary);
        margin: 0;
    }

    /* Toggle Switch */
    .toggle-switch {
        position: relative;
        display: inline-block;
        width: 56px;
        height: 30px;
        flex-shrink: 0;
    }

    .toggle-switch input {
        opacity: 0;
        width: 0;
        height: 0;
    }

    .toggle-switch .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: #cbd5e1;
        border-radius: 30px;
        transition: 0.4s;
    }

    .toggle-switch .slider:before {
        position: absolute;
        content: "";
        height: 22px;
        width: 22px;
        left: 4px;
        bottom: 4px;
        background: white;
        border-radius: 50%;
        transition: 0.4s;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }

    .toggle-switch input:checked+.slider {
        background: linear-gradient(135deg, #6366f1, #8b5cf6);
    }

    .toggle-switch input:checked+.slider:before {
        transform: translateX(26px);
    }

    /* API Card */
    .api-key-box {
        background: rgba(139, 92, 246, 0.05);
        border: 1px solid rgba(139, 92, 246, 0.2);
        border-radius: 12px;
        padding: 1rem;
        margin-bottom: 1rem;
        word-break: break-all;
    }

    .api-key-box code {
        color: var(--text-main);
        font-family: 'Courier New', monospace;
        font-size: 0.9rem;
    }

    .api-warning {
        font-size: 0.85rem;
        color: #f59e0b;
        margin: 1rem 0 0 0;
    }

    .api-notice {
        color: var(--text-secondary);
        margin: 0;
    }

    /* Buttons */
    .btn {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.75rem 1.5rem;
        border-radius: 12px;
        border: none;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        text-decoration: none;
    }

    .btn-primary {
        background: linear-gradient(135deg, #6366f1, #8b5cf6);
        color: white;
    }

    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(99, 102, 241, 0.4);
    }

    .btn-primary .material-icons {
        font-size: 18px;
    }

    /* Upgrade Card */
    .upgrade-card {
        background: linear-gradient(135deg, #6366f1, #8b5cf6);
        border: none;
        color: white;
    }

    .upgrade-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 20px 60px rgba(99, 102, 241, 0.4);
    }

    .upgrade-content {
        text-align: center;
    }

    .upgrade-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
    }

    .upgrade-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: white;
        margin: 0 0 1rem 0;
    }

    .upgrade-desc {
        font-size: 1rem;
        color: rgba(255, 255, 255, 0.9);
        margin: 0 0 1.5rem 0;
    }

    .btn-upgrade {
        background: white;
        color: #6366f1;
        padding: 0.75rem 2rem;
    }

    .btn-upgrade:hover {
        background: rgba(255, 255, 255, 0.95);
        transform: scale(1.05);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .profile-hero {
            padding: 2rem 1.5rem;
        }

        .profile-hero-content {
            flex-direction: column;
            text-align: center;
        }

        .profile-hero-title {
            font-size: 2rem;
        }

        .stats-grid {
            grid-template-columns: 1fr;
        }

        .quick-actions-bar {
            flex-direction: column;
        }

        .quick-action-btn {
            width: 100%;
            justify-content: center;
        }

        .watermark-setting {
            flex-direction: column;
            align-items: flex-start;
        }

        .stat-info {
            flex-direction: column;
            align-items: flex-start;
        }
    }
</style>

<script>
    function copyApiKey() {
        const apiKey = document.getElementById('api-key').textContent;
        navigator.clipboard.writeText(apiKey).then(() => {
            if (typeof toastSuccess === 'function') {
                toastSuccess('API anahtarƒ± panoya kopyalandƒ±!');
            } else {
                alert('API anahtarƒ± panoya kopyalandƒ±!');
            }
        });
    }
</script>
{% endblock %}