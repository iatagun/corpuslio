{% extends "corpus/base.html" %}

{% block title %}CorpusIO - Modern TÃ¼rkÃ§e Korpus Analizi{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section">
    <div class="hero-content">
        <h1 class="hero-title">CorpusIO</h1>
        <p class="hero-subtitle">TÃ¼rkÃ§e Korpus KeÅŸif ve Analiz Platformu</p>
        <p class="hero-description">
            Zengin TÃ¼rkÃ§e metin korpusunu keÅŸfedin, geliÅŸmiÅŸ arama ve analiz araÃ§larÄ±yla dilinizi inceleyin.
        </p>

        <div class="hero-buttons">
            {% load auth_extras %}
            <!-- Primary action for everyone: Explore the corpus -->
            <a href="{% url 'corpus:library' %}" class="btn btn-primary btn-large">
                <span class="material-icons">explore</span> Corpus'u KeÅŸfet
            </a>

            {% if user.is_authenticated %}
            {% if request.user|can_upload %}
            <a href="{% url 'corpus:upload' %}" class="btn btn-secondary btn-large">
                <span class="material-icons">cloud_upload</span> Belge YÃ¼kle
            </a>
            {% endif %}
            <a href="{% url 'corpus:dashboard' %}" class="btn btn-outline btn-large">
                <span class="material-icons">dashboard</span> Dashboard
            </a>
            {% else %}
            <a href="{% url 'corpus:register' %}" class="btn btn-outline btn-large">
                <span class="material-icons">person_add</span> Ãœye Ol
            </a>
            {% endif %}
        </div>
    </div>
</div>

<!-- Features Grid -->
<section class="features-section">
    <h3 style="color:var(--text-main); margin-bottom:1.5rem;">Ã–zellikler</h3>

    <div class="features-grid">
        <div class="feature-card">
            <span class="material-icons feature-icon">cloud_upload</span>
            <h3>AkÄ±llÄ± Dosya YÃ¼kleme</h3>
            <p>SÃ¼rÃ¼kle-bÄ±rak desteÄŸi, Ã§oklu dosya yÃ¼kleme, otomatik format tespiti ve gerÃ§ek zamanlÄ± ilerleme gÃ¶sterimi.
            </p>
        </div>

        <div class="feature-card">
            <span class="material-icons feature-icon">search</span>
            <h3>HÄ±zlÄ± Arama (Ctrl+K)</h3>
            <p>GeliÅŸmiÅŸ global arama, klavye kÄ±sayollarÄ±, fuzzy ve regex arama desteÄŸi ile anÄ±nda sonuÃ§ bulma.</p>
        </div>

        <div class="feature-card">
            <span class="material-icons feature-icon">palette</span>
            <h3>Ã‡oklu Tema DesteÄŸi</h3>
            <p>Koyu, aÃ§Ä±k ve otomatik tema seÃ§enekleri ile gÃ¶zlerinizi yormayan modern arayÃ¼z tasarÄ±mÄ±.</p>
        </div>
    </div>
</section>

{% if user.is_authenticated %}
<!-- Stats Section -->
<section class="stats-section">
    <h2 style="color:var(--text-main); margin-bottom:2rem; text-align:center; font-size:1.75rem;">
        <span class="material-icons"
            style="vertical-align:middle; font-size:2rem; margin-right:0.5rem;">analytics</span>
        Derlem Ä°statistikleri
    </h2>

    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon"><span class="material-icons">description</span></div>
            <div class="stat-number">{{ total_docs|default:0 }}</div>
            <div class="stat-label">Toplam Belge</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon"><span class="material-icons">check_circle</span></div>
            <div class="stat-number">{{ processed_docs|default:0 }}</div>
            <div class="stat-label">Ä°ÅŸlenmiÅŸ Belge</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon"><span class="material-icons">text_fields</span></div>
            <div class="stat-number">{{ total_words|default:0|floatformat:0 }}</div>
            <div class="stat-label">Toplam Kelime</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon"><span class="material-icons">collections_bookmark</span></div>
            <div class="stat-number">{{ total_collections|default:0 }}</div>
            <div class="stat-label">Koleksiyon</div>
        </div>
    </div>
</section>

<!-- Popular Tags -->
{% if popular_tags %}
<section class="tags-section">
    <h3 style="color:var(--text-main); margin-bottom:1.5rem; display:flex; align-items:center; gap:0.5rem;">
        <span class="material-icons">local_offer</span>
        PopÃ¼ler Etiketler
    </h3>
    <div class="tags-cloud">
        {% for tag in popular_tags %}
        <a href="{% url 'corpus:library' %}?tag={{ tag.slug }}" class="tag-badge tag-{{ tag.color }}"
            style="text-decoration:none; font-size:{{ tag.doc_count|add:8 }}px;">
            {{ tag.name }} <span style="opacity:0.7;">({{ tag.doc_count }})</span>
        </a>
        {% endfor %}
    </div>
</section>
{% endif %}

<!-- Recent Activity -->
{% if recent_documents %}
<section class="recent-section">
    <h3 style="color:var(--text-main); margin-bottom:1.5rem;">Son YÃ¼klenenler</h3>

    <div class="recent-grid">
        {% for doc in recent_documents %}
        <div class="recent-card">
            <div class="recent-header">
                <h4>{{ doc.filename }}</h4>
                <span class="format-badge">{{ doc.format }}</span>
            </div>
            <div class="recent-meta">
                <span>{{ doc.upload_date|date:"d.m.Y H:i" }}</span>
                {% if doc.processed %}
                <span class="material-icons" style="color:var(--accent-success); font-size:1rem;">check_circle</span>
                {% else %}
                <span class="material-icons" style="color:var(--text-secondary); font-size:1rem;">hourglass_empty</span>
                {% endif %}
            </div>
            {% if doc.processed %}
            <a href="{% url 'corpus:analysis' doc.id %}" class="btn btn-secondary btn-small">Ä°ncele</a>
            {% endif %}
        </div>
        {% endfor %}
    </div>
</section>
{% endif %}
{% endif %}

<!-- CTA Section -->
{% load auth_extras %}
{% if user.is_authenticated %}
{% if request.user|can_upload %}
<section class="cta-section">
    <h2>Corpusu ZenginleÅŸtirin</h2>
    <p>Kendi belgelerinizi ekleyerek TÃ¼rkÃ§e corpus'a katkÄ±da bulunun ve tÃ¼m geliÅŸmiÅŸ analiz araÃ§larÄ±ndan istifade edin.
    </p>
    <a href="{% url 'corpus:upload' %}" class="btn btn-primary btn-large">
        <span class="material-icons">add_circle</span> Yeni Belge YÃ¼kle
    </a>
</section>
{% endif %}
{% else %}
<section class="cta-section">
    <h2>Daha FazlasÄ±nÄ± KeÅŸfedin</h2>
    <p>Ãœye olun ve ileri istatistikler, export Ã¶zellikleri ve daha fazlasÄ±na eriÅŸin.<br>
        <strong>Ã–ÄŸrenci:</strong> N-gram, TTR, CSV export |
        <strong>Akademisyen:</strong> Belge yÃ¼kleme, koleksiyon yÃ¶netimi
    </p>
    <div style="display: flex; gap: 15px; justify-content: center; margin-top: 20px;">
        <a href="{% url 'corpus:register' %}" class="btn btn-primary btn-large">
            <span class="material-icons">person_add</span> Ãœcretsiz Ãœye Ol
        </a>
        <a href="{% url 'corpus:library' %}" class="btn btn-outline btn-large"
            style="background: var(--bg-surface); color: var(--accent-primary); border-color: var(--accent-primary);">
            <span class="material-icons">explore</span> Ã–nce KeÅŸfet
        </a>
    </div>
</section>
{% endif %}


<style>
    /* Hero Section */
    .hero-section {
        background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-hover) 100%);
        padding: 4rem 2rem;
        border-radius: 16px;
        margin-bottom: 3rem;
        text-align: center;
    }

    .hero-title {
        font-size: 3.5rem;
        color: #ffffff;
        margin-bottom: 1rem;
        font-weight: 700;
    }

    .hero-subtitle {
        font-size: 1.5rem;
        color: rgba(255, 255, 255, 0.95);
        margin-bottom: 1rem;
    }

    .hero-description {
        font-size: 1.1rem;
        color: rgba(255, 255, 255, 0.85);
        max-width: 700px;
        margin: 0 auto 2rem;
        line-height: 1.6;
    }

    .hero-buttons {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
    }

    .btn-large {
        padding: 1rem 2rem;
        font-size: 1.1rem;
    }

    .btn-primary {
        background: #6366f1;
        color: white;
    }

    .btn-outline {
        background: transparent;
        border: 2px solid white;
        color: white;
    }

    /* Features Section */
    .features-section,
    .stats-section,
    .recent-section {
        margin-bottom: 3rem;
    }

    .section-title {
        font-size: 2rem;
        margin-bottom: 2rem;
        color: var(--text-main);
        text-align: center;
    }

    .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
    }

    .feature-card {
        background: var(--bg-surface);
        backdrop-filter: blur(10px);
        border: 1px solid var(--border-subtle);
        border-radius: 12px;
        padding: 2rem;
        transition: transform 0.3s, box-shadow 0.3s;
    }

    .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px var(--bg-surface-hover);
    }

    .feature-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
    }

    .feature-card h3 {
        color: var(--text-main);
        margin-bottom: 1rem;
    }

    .feature-card p {
        color: var(--text-secondary);
        margin-bottom: 1rem;
        line-height: 1.6;
    }

    .feature-list {
        list-style: none;
        padding: 0;
    }

    .feature-list li {
        color: var(--text-tertiary);
        padding: 0.5rem 0;
        padding-left: 1.5rem;
        position: relative;
    }

    .feature-list li:before {
        content: "âœ“";
        position: absolute;
        left: 0;
        color: var(--accent-success);
        font-weight: bold;
    }

    /* Stats Grid */
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1.5rem;
    }

    .stat-card {
        background: var(--bg-surface);
        border: 1px solid var(--border-subtle);
        border-radius: 12px;
        padding: 2rem;
        text-align: center;
        transition: transform 0.2s, box-shadow 0.2s;
    }

    .stat-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .stat-icon {
        width: 60px;
        height: 60px;
        margin: 0 auto 1rem;
        background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .stat-icon .material-icons {
        font-size: 2rem;
        color: white;
    }

    .stat-number {
        font-size: 3rem;
        font-weight: 700;
        color: var(--accent-primary);
        margin-bottom: 0.5rem;
    }

    .stat-label {
        color: var(--text-secondary);
        font-size: 0.9rem;
    }

    /* Tags Section */
    .tags-section {
        margin-bottom: 3rem;
    }

    .tags-cloud {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        justify-content: center;
        padding: 1.5rem;
        background: var(--bg-surface);
        border-radius: 12px;
        border: 1px solid var(--border-subtle);
    }

    .tags-cloud .tag-badge {
        transition: all 0.3s ease;
    }

    .tags-cloud .tag-badge:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    /* Recent Activity */
    .recent-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 1.5rem;
    }

    .recent-card {
        background: var(--bg-surface);
        border: 1px solid var(--border-subtle);
        border-radius: 12px;
        padding: 1.5rem;
    }

    .recent-header {
        display: flex;
        justify-content: space-between;
        align-items: start;
        margin-bottom: 1rem;
    }

    .recent-header h4 {
        color: var(--text-main);
        margin: 0;
        font-size: 1rem;
    }

    .recent-meta {
        display: flex;
        gap: 1rem;
        margin-bottom: 1rem;
        font-size: 0.85rem;
        color: var(--text-secondary);
    }

    /* CTA Section */
    .cta-section {
        background: linear-gradient(135deg, var(--accent-success) 0%, var(--accent-primary) 100%);
        padding: 3rem 2rem;
        border-radius: 16px;
        text-align: center;
        margin-top: 3rem;
    }

    .cta-section h2 {
        color: #ffffff;
        margin-bottom: 1rem;
    }

    .cta-section p {
        color: rgba(255, 255, 255, 0.9);
        margin-bottom: 2rem;
        font-size: 1.1rem;
    }
</style>

{% block extra_js %}
<script>
    // Welcome toast for authenticated users
    document.addEventListener('DOMContentLoaded', function () {
        {% if user.is_authenticated %}
        setTimeout(() => {
            toastInfo('CorpusIO platformuna hoÅŸ geldiniz!', 'ðŸ‘‹ Merhaba {{ user.username }}');
        }, 500);
        {% endif %}
    });
</script>
{% endblock %}
{% endblock %}