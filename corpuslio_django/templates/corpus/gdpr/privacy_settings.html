{% extends "corpus/base.html" %}

{% block title %}Gizlilik Ayarları - KVKK/GDPR{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <div class="col-md-3">
            <!-- Sidebar Menu -->
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0"><i class="fas fa-shield-alt"></i> Gizlilik Merkezi</h5>
                </div>
                <div class="list-group list-group-flush">
                    <a href="#overview" class="list-group-item list-group-item-action active">
                        <i class="fas fa-home"></i> Genel Bakış
                    </a>
                    <a href="{% url 'corpus:request_data_export' %}" class="list-group-item list-group-item-action">
                        <i class="fas fa-download"></i> Verilerimi İndir
                        {% if pending_exports > 0 %}
                        <span class="badge badge-warning float-right">{{ pending_exports }}</span>
                        {% endif %}
                    </a>
                    <a href="{% url 'corpus:consent_management' %}" class="list-group-item list-group-item-action">
                        <i class="fas fa-check-circle"></i> İzinlerim
                    </a>
                    <a href="{% url 'corpus:request_account_deletion' %}" class="list-group-item list-group-item-action">
                        <i class="fas fa-user-times"></i> Hesabımı Sil
                        {% if deletion_request %}
                        <span class="badge badge-danger float-right">!</span>
                        {% endif %}
                    </a>
                    <hr>
                    <a href="{% url 'corpus:gdpr_privacy_policy' %}" class="list-group-item list-group-item-action">
                        <i class="fas fa-file-contract"></i> Gizlilik Politikası
                    </a>
                    <a href="{% url 'corpus:gdpr_terms' %}" class="list-group-item list-group-item-action">
                        <i class="fas fa-file-alt"></i> Kullanım Koşulları
                    </a>
                    <a href="{% url 'corpus:kvkk_notice' %}" class="list-group-item list-group-item-action">
                        <i class="fas fa-info-circle"></i> KVKK Aydınlatma Metni
                    </a>
                </div>
            </div>
        </div>
        
        <div class="col-md-9">
            <!-- Main Content -->
            <h2><i class="fas fa-shield-alt"></i> Gizlilik ve Veri Koruma</h2>
            <p class="lead">Kişisel verileriniz ve gizliliğiniz bizim için önemlidir.</p>
            
            <!-- KVKK/GDPR Info -->
            <div class="alert alert-info">
                <h5><i class="fas fa-info-circle"></i> Haklarınız</h5>
                <p class="mb-0">
                    <strong>KVKK (6698 sayılı Kanun)</strong> ve <strong>GDPR</strong> kapsamında:
                </p>
                <ul class="mb-0">
                    <li>Verilerinize erişim hakkı</li>
                    <li>Verilerinizi indirme hakkı (veri taşınabilirliği)</li>
                    <li>Verilerinizi düzeltme hakkı</li>
                    <li>Verilerinizi silme hakkı (unutulma hakkı)</li>
                    <li>İzin verme ve geri çekme hakkı</li>
                </ul>
            </div>
            
            <!-- Quick Actions -->
            <div class="row mt-4">
                <div class="col-md-6 mb-3">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">
                                <i class="fas fa-download text-primary"></i> Verilerimi İndir
                            </h5>
                            <p class="card-text">
                                Platformdaki tüm kişisel verilerinizi JSON veya CSV formatında indirin.
                            </p>
                            <a href="{% url 'corpus:request_data_export' %}" class="btn btn-primary">
                                <i class="fas fa-download"></i> İndir
                            </a>
                            {% if completed_exports > 0 %}
                            <a href="{% url 'corpus:data_export_list' %}" class="btn btn-outline-secondary">
                                <i class="fas fa-list"></i> İndirmelerim ({{ completed_exports }})
                            </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6 mb-3">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">
                                <i class="fas fa-check-circle text-success"></i> İzin Yönetimi
                            </h5>
                            <p class="card-text">
                                Veri işleme, pazarlama ve çerez izinlerinizi yönetin.
                            </p>
                            <a href="{% url 'corpus:consent_management' %}" class="btn btn-success">
                                <i class="fas fa-cog"></i> İzinlerim
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6 mb-3">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">
                                <i class="fas fa-user-times text-danger"></i> Hesap Silme
                            </h5>
                            <p class="card-text">
                                Hesabınızı ve tüm verilerinizi kalıcı olarak silin (Unutulma Hakkı).
                            </p>
                            {% if deletion_request %}
                            <a href="{% url 'corpus:account_deletion_status' %}" class="btn btn-warning">
                                <i class="fas fa-exclamation-triangle"></i> Bekleyen Talep
                            </a>
                            {% else %}
                            <a href="{% url 'corpus:request_account_deletion' %}" class="btn btn-outline-danger">
                                <i class="fas fa-user-times"></i> Hesabımı Sil
                            </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6 mb-3">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">
                                <i class="fas fa-file-contract text-info"></i> Yasal Belgeler
                            </h5>
                            <p class="card-text">
                                Gizlilik politikası, kullanım koşulları ve KVKK aydınlatma metni.
                            </p>
                            <div class="btn-group-vertical w-100">
                                <a href="{% url 'corpus:gdpr_privacy_policy' %}" class="btn btn-sm btn-outline-info">
                                    Gizlilik Politikası
                                </a>
                                <a href="{% url 'corpus:gdpr_terms' %}" class="btn btn-sm btn-outline-info">
                                    Kullanım Koşulları
                                </a>
                                <a href="{% url 'corpus:kvkk_notice' %}" class="btn btn-sm btn-outline-info">
                                    KVKK Aydınlatma Metni
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Data Summary -->
            <div class="card mt-4">
                <div class="card-header bg-light">
                    <h5 class="mb-0"><i class="fas fa-database"></i> Veri Özeti</h5>
                </div>
                <div class="card-body">
                    <p>Platformda saklanan kişisel verileriniz:</p>
                    <ul>
                        <li><strong>Hesap Bilgileri:</strong> Kullanıcı adı, e-posta, profil bilgileri</li>
                        <li><strong>Belgeler:</strong> Yüklediğiniz dokümanlar ve analizleri</li>
                        <li><strong>Sorgu Geçmişi:</strong> Arama ve sorgu kayıtları</li>
                        <li><strong>İhracat Logları:</strong> İndirme ve export işlemleri</li>
                        <li><strong>API Anahtarları:</strong> Oluşturduğunuz API anahtarları (varsa)</li>
                        <li><strong>İzin Kayıtları:</strong> Verdiğiniz izinler ve tarihçesi</li>
                    </ul>
                    <p class="mb-0">
                        <small class="text-muted">
                            Tüm bu verileri "Verilerimi İndir" özelliği ile indirebilirsiniz.
                        </small>
                    </p>
                </div>
            </div>
            
            <!-- Contact -->
            <div class="card mt-4 border-primary">
                <div class="card-body">
                    <h5 class="card-title"><i class="fas fa-envelope"></i> İletişim</h5>
                    <p class="card-text">
                        Gizlilik ve veri koruma ile ilgili sorularınız için:
                    </p>
                    <p class="mb-0">
                        <strong>E-posta:</strong> <a href="mailto:privacy@ocrchestra.tr">privacy@ocrchestra.tr</a><br>
                        <strong>VBO (Veri Sorumlusu):</strong> OCRchestra Corpus Platform
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
